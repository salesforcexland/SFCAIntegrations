{
  "id": "5a1dfb21-3bcd-4ed7-9412-84e924b2e515",
  "name": "sfca-task",
  "friendlyName": "Salesforce Code Analyzer - ADO PR Scan",
  "description": "Runs Salesforce Code Analyzer v5 against PR delta files in Azure DevOps and enforces violation thresholds.",
  "author": "Sam Crossland",
  "helpMarkDown": "Only runs on pull requests and scans the changed files for code quality violations.",
  "category": "Build and release",
  "visibility": [ "Build" ],
  "runsOn": [ "Agent" ],
  "instanceNameFormat": "SFCA PR Scan",
  "iconPath": "icon.png",
  "version": {
    "Major": 0,
    "Minor": 1,
    "Patch": 22
  },
  "inputs": [
    {
      "name": "maximumViolations",
      "type": "string",
      "label": "Maximum Allowed Violations",
      "defaultValue": "10",
      "required": false,
      "helpMarkDown": "Fail the build if the number of code violations exceeds this threshold."
    },
    {
      "name": "postStatusCheckToPR",
      "type": "boolean",
      "label": "Post status check to PR (true/false)",
      "defaultValue": "false",
      "required": false,
      "helpMarkDown": "Boolean to dictate whether we POST an extra status check to the source PR. Requires setting 'env: SYSTEM_ACCESSTOKEN: $(System.AccessToken)' in your pipeline yml."
    }
  ],
  "execution": {
    "Node10": {
      "target": "sfca-orchestrator.js"
    }
  }
}